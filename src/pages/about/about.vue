<template>
  <view class="container">
    <!-- åº”ç”¨ä¿¡æ¯ -->
    <view class="card app-info-card">
      <view class="app-icon">
        <image class="icon" src="/static/logo.png" mode="aspectFit" />
      </view>
      <text class="app-name">Arcaea PTTè®¡ç®—å™¨</text>
      <text class="app-version">ç‰ˆæœ¬ 1.0.0</text>
      <text class="app-desc">ä¸“ä¸ºArcaeaç©å®¶è®¾è®¡çš„PTTè®¡ç®—å’Œç®¡ç†å·¥å…·</text>
    </view>

    <!-- åŠŸèƒ½ä»‹ç» -->
    <view class="card features-card">
      <view class="card-header">
        <text class="card-title">ä¸»è¦åŠŸèƒ½</text>
      </view>
      <view class="features-list">
        <view class="feature-item">
          <text class="feature-icon">ğŸ§®</text>
          <text class="feature-text">æˆç»©ä¸PTTåŒå‘è½¬æ¢è®¡ç®—</text>
        </view>
        <view class="feature-item">
          <text class="feature-icon">âš–ï¸</text>
          <text class="feature-text">è¯„çº§å®¹é”™å’Œåˆ†æ•°å®¹é”™è®¡ç®—</text>
        </view>
        <view class="feature-item">
          <text class="feature-icon">ğŸ“‹</text>
          <text class="feature-text">B30æˆç»©ç®¡ç†å’Œç»Ÿè®¡</text>
        </view>
        <view class="feature-item">
          <text class="feature-icon">ğŸµ</text>
          <text class="feature-text">å†…ç½®å®Œæ•´æ­Œæ›²æ•°æ®åº“</text>
        </view>
        <view class="feature-item">
          <text class="feature-icon">ğŸ“Š</text>
          <text class="feature-text">PTTæ¦‚è§ˆå’Œæ•°æ®ç»Ÿè®¡</text>
        </view>
        <view class="feature-item">
          <text class="feature-icon">ğŸ’¾</text>
          <text class="feature-text">æ•°æ®å¯¼å…¥å¯¼å‡ºå’Œå¤‡ä»½</text>
        </view>
      </view>
    </view>

    <!-- PTTè®¡ç®—å…¬å¼ -->
    <view class="card formula-card">
      <view class="card-header">
        <text class="card-title">PTTè®¡ç®—å…¬å¼</text>
      </view>
      <view class="formula-list">
        <view class="formula-item">
          <text class="formula-condition">â‰¥10,000,000åˆ†</text>
          <text class="formula-result">å®šæ•° + 2.0</text>
        </view>
        <view class="formula-item">
          <text class="formula-condition">9,900,000-9,999,999åˆ†</text>
          <text class="formula-result">å®šæ•° + 1.5 + (å¾—åˆ†-9,900,000)/100,000</text>
        </view>
        <view class="formula-item">
          <text class="formula-condition">9,800,000-9,899,999åˆ†</text>
          <text class="formula-result">å®šæ•° + 1.0 + (å¾—åˆ†-9,800,000)/400,000</text>
        </view>
        <view class="formula-item">
          <text class="formula-condition">â‰¤9,800,000åˆ†</text>
          <text class="formula-result">å®šæ•° + (å¾—åˆ†-9,500,000)/300,000</text>
        </view>
      </view>
    </view>

    <!-- å¼€å‘ä¿¡æ¯ -->
    <view class="card dev-info-card">
      <view class="card-header">
        <text class="card-title">å¼€å‘ä¿¡æ¯</text>
      </view>
      <view class="info-list">
        <view class="info-item">
          <text class="info-label">å¼€å‘æ¡†æ¶</text>
          <text class="info-value">UniApp</text>
        </view>
        <view class="info-item">
          <text class="info-label">åŸé¡¹ç›®</text>
          <text class="info-value" @click="openOriginalRepo">hopedloki/-arcaea-ptt-calculator</text>
        </view>
        <view class="info-item">
          <text class="info-label">é‡æ„æ—¥æœŸ</text>
          <text class="info-value">2025-12-14</text>
        </view>
        <view class="info-item">
          <text class="info-label">è®¸å¯è¯</text>
          <text class="info-value">MIT</text>
        </view>
      </view>
    </view>

    <!-- è‡´è°¢ -->
    <view class="card thanks-card">
      <view class="card-header">
        <text class="card-title">è‡´è°¢</text>
      </view>
      <view class="thanks-content">
        <text class="thanks-text">æ„Ÿè°¢ä»¥ä¸‹é¡¹ç›®å’Œè´¡çŒ®è€…ï¼š</text>
        <view class="thanks-list">
          <text class="thanks-item">â€¢ åŸç‰ˆArcaea PTTè®¡ç®—å™¨çš„å¼€å‘è€…hopedloki</text>
          <text class="thanks-item">â€¢ Arcaeaæ¸¸æˆå®˜æ–¹å›¢é˜Ÿ</text>
          <text class="thanks-item">â€¢ UniAppå¼€å‘å›¢é˜Ÿ</text>
          <text class="thanks-item">â€¢ æ‰€æœ‰ä½¿ç”¨å’Œåé¦ˆæœ¬åº”ç”¨çš„ç”¨æˆ·</text>
        </view>
      </view>
    </view>

    <!-- åé¦ˆå’Œå»ºè®® -->
    <view class="card feedback-card">
      <view class="card-header">
        <text class="card-title">åé¦ˆå’Œå»ºè®®</text>
      </view>
      <view class="feedback-content">
        <text class="feedback-text">å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ã€å»ºè®®æˆ–å‘ç°é”™è¯¯ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼åé¦ˆï¼š</text>
        <view class="feedback-actions">
          <button class="feedback-btn" @click="openGitHub">GitHub Issues</button>
          <button class="feedback-btn" @click="copyEmail">å¤åˆ¶é‚®ç®±</button>
        </view>
      </view>
    </view>

    <!-- ç‰ˆæƒä¿¡æ¯ -->
    <view class="footer">
      <text class="copyright">Â© 2025 Arcaea PTTè®¡ç®—å™¨</text>
      <text class="disclaimer">æœ¬åº”ç”¨éå®˜æ–¹ï¼Œä¸Arcaeaæ¸¸æˆå¼€å‘å•†æ— å…³è”</text>
    </view>
  </view>
</template>

<script setup lang="ts">
// æ‰“å¼€åŸå§‹é¡¹ç›®ä»“åº“
const openOriginalRepo = () => {
  // #ifdef H5
  window.open('https://github.com/hopedloki/-arcaea-ptt-calculator', '_blank')
  // #endif
  
  // #ifndef H5
  uni.setClipboardData({
    data: 'https://github.com/hopedloki/-arcaea-ptt-calculator',
    success: () => {
      uni.showToast({
        title: 'é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿',
        icon: 'success'
      })
    }
  })
  // #endif
}

// æ‰“å¼€GitHub Issues
const openGitHub = () => {
  uni.showModal({
    title: 'æç¤º',
    content: 'è¯·è®¿é—®GitHubä»“åº“æäº¤Issueï¼š\nhttps://github.com/hopedloki/-arcaea-ptt-calculator/issues',
    confirmText: 'å¤åˆ¶é“¾æ¥',
    success: (res) => {
      if (res.confirm) {
        uni.setClipboardData({
          data: 'https://github.com/hopedloki/-arcaea-ptt-calculator/issues',
          success: () => {
            uni.showToast({
              title: 'é“¾æ¥å·²å¤åˆ¶',
              icon: 'success'
            })
          }
        })
      }
    }
  })
}

// å¤åˆ¶é‚®ç®±
const copyEmail = () => {
  uni.setClipboardData({
    data: 'example@example.com',
    success: () => {
      uni.showToast({
        title: 'é‚®ç®±å·²å¤åˆ¶',
        icon: 'success'
      })
    }
  })
}
</script>

<style scoped>
.container {
  padding: 20rpx;
  background-color: #f8f9fa;
  min-height: 100vh;
}

.card {
  background: white;
  border-radius: 20rpx;
  padding: 30rpx;
  margin-bottom: 20rpx;
  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.05);
}

.card-header {
  margin-bottom: 24rpx;
}

.card-title {
  font-size: 32rpx;
  font-weight: bold;
  color: #333;
}

.app-info-card {
  text-align: center;
  padding-bottom: 40rpx;
}

.app-icon {
  width: 120rpx;
  height: 120rpx;
  margin: 0 auto 20rpx;
  border-radius: 30rpx;
  overflow: hidden;
}

.icon {
  width: 100%;
  height: 100%;
}

.app-name {
  font-size: 40rpx;
  font-weight: bold;
  color: #333;
  display: block;
  margin-bottom: 10rpx;
}

.app-version {
  font-size: 26rpx;
  color: #667eea;
  display: block;
  margin-bottom: 16rpx;
}

.app-desc {
  font-size: 28rpx;
  color: #666;
  line-height: 1.6;
  padding: 0 20rpx;
}

.features-list {
  display: flex;
  flex-direction: column;
  gap: 20rpx;
}

.feature-item {
  display: flex;
  align-items: center;
  background: #f8f9fa;
  border-radius: 16rpx;
  padding: 20rpx;
}

.feature-icon {
  font-size: 36rpx;
  margin-right: 20rpx;
}

.feature-text {
  font-size: 28rpx;
  color: #333;
  flex: 1;
}

.formula-list {
  display: flex;
  flex-direction: column;
  gap: 16rpx;
}

.formula-item {
  display: flex;
  justify-content: space-between;
  padding: 16rpx 0;
  border-bottom: 1rpx solid #eee;
}

.formula-condition {
  font-size: 26rpx;
  color: #666;
  flex: 1;
}

.formula-result {
  font-size: 26rpx;
  color: #333;
  font-weight: bold;
  flex: 2;
  text-align: right;
}

.info-list {
  display: flex;
  flex-direction: column;
  gap: 16rpx;
}

.info-item {
  display: flex;
  justify-content: space-between;
  padding: 16rpx 0;
  border-bottom: 1rpx solid #eee;
}

.info-label {
  font-size: 28rpx;
  color: #666;
  width: 150rpx;
}

.info-value {
  font-size: 28rpx;
  color: #333;
  text-align: right;
  flex: 1;
}

.info-value[style*="color"] {
  color: #667eea;
}

.thanks-content {
  font-size: 28rpx;
  color: #666;
  line-height: 1.6;
}

.thanks-text {
  display: block;
  margin-bottom: 16rpx;
}

.thanks-list {
  display: flex;
  flex-direction: column;
  gap: 12rpx;
  padding-left: 20rpx;
}

.thanks-item {
  display: block;
  font-size: 26rpx;
  color: #666;
  line-height: 1.5;
}

.feedback-content {
  font-size: 28rpx;
  color: #666;
  line-height: 1.6;
}

.feedback-text {
  display: block;
  margin-bottom: 20rpx;
}

.feedback-actions {
  display: flex;
  gap: 20rpx;
  margin-top: 20rpx;
}

.feedback-btn {
  flex: 1;
  height: 80rpx;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: 40rpx;
  font-size: 28rpx;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
}

.footer {
  text-align: center;
  padding: 40rpx 0;
}

.copyright {
  font-size: 26rpx;
  color: #666;
  display: block;
  margin-bottom: 8rpx;
}

.disclaimer {
  font-size: 24rpx;
  color: #999;
  display: block;
}
</style>